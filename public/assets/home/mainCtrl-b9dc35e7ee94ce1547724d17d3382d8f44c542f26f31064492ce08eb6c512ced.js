angular.module("graffitiApp").controller("MainCtrl",["$scope","$http","$location","graffiti","map",function(t,a,i,o,n){t.loading=!0,t.currentPath=i.path(),t.alert=function(){window.alert("Check out the graffito before voting on it.")},0==o.graffiti.length?o.getAll().then(function(a){t.graffiti=a.data.graffiti,t.map=n.getMap("google")},function(){alert("error")})["finally"](function(){t.loading=!1}):(t.graffiti==o.graffiti,t.loading=!1),t.matchLat=function(t){n.matchLat(t)},t.orderProp="-upvotes"}]);